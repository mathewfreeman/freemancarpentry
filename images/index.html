<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        .dark body {
            background-color: #111827; /* dark:bg-gray-900 */
            color: #f3f4f6; /* dark:text-gray-100 */
        }
        .skill-card-inner {
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .skill-card:hover .skill-card-inner {
            transform: rotateY(180deg);
        }
        .skill-card-front, .skill-card-back {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        .skill-card-back {
            transform: rotateY(180deg);
        }
        .modal {
            display: none; /* Hidden by default */
            transition: opacity 0.3s ease-in-out;
        }
        .modal.open {
            display: flex;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            transform: translateY(-20px) scale(0.95);
            opacity: 0;
        }
        .modal.open .modal-content {
            transform: translateY(0) scale(1);
            opacity: 1;
        }
        /* Custom scrollbar for Webkit browsers */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .dark ::-webkit-scrollbar-track {
            background: #2d3748; /* A bit lighter than pure dark for contrast */
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #555;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        .dark ::-webkit-scrollbar-thumb:hover {
            background: #777;
        }

        /* Slideshow specific styles */
        .slideshow-track {
            display: flex;
            transition: transform 0.3s ease-in-out;
        }
        .slide {
            min-width: 100%;
            flex-shrink: 0;
            box-sizing: border-box;
        }
        .slide img {
            object-fit: cover; /* Ensures images cover the area without distortion */
        }
        .slide-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #ccc; /* inactive color */
            transition: background-color 0.3s ease;
        }
        .slide-indicator.active {
            background-color: #3498db; /* active color */
        }
        .dark .slide-indicator {
            background-color: #555;
        }
        .dark .slide-indicator.active {
            background-color: #3b82f6; /* Tailwind blue-500 */
        }

    </style>
</head>
<body class="bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-gray-100">

    <nav class="bg-white dark:bg-gray-800 shadow-md fixed w-full z-50">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-indigo-600 dark:text-indigo-400">MyPortfolio</a>
            <div class="flex items-center space-x-4">
                <a href="#about" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400">About</a>
                <a href="#skills" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 hidden md:inline">Skills</a>
                <a href="#work" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400">Work</a>
                <a href="#contact" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400">Contact</a>
                <button id="darkModeToggle" class="p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700">
                    <i class="fas fa-moon"></i> </button>
            </div>
        </div>
    </nav>

    <header class="bg-indigo-600 dark:bg-indigo-800 text-white pt-32 pb-16 md:pt-40 md:pb-24">
        <div class="container mx-auto px-6 text-center">
            <img src="https://placehold.co/150x150/ffffff/3498db?text=JD&font=Inter" alt="John Doe" class="w-32 h-32 md:w-40 md:h-40 mx-auto rounded-full object-cover border-4 border-white dark:border-indigo-400 shadow-lg mb-6">
            <h1 class="text-4xl md:text-6xl font-bold mb-4">Hi, I'm John Doe</h1>
            <p class="text-xl md:text-2xl mb-8">A Passionate Web Developer & Designer</p>
            <a href="#contact" class="bg-white text-indigo-600 dark:bg-indigo-400 dark:text-gray-900 font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-gray-100 dark:hover:bg-indigo-300 transition duration-300">Get In Touch</a>
        </div>
    </header>

    <section id="about" class="py-16 bg-white dark:bg-gray-800">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center text-gray-800 dark:text-white mb-12">About Me</h2>
            <div class="max-w-3xl mx-auto text-lg text-gray-700 dark:text-gray-300 leading-relaxed">
                <p class="mb-4">
                    Hello! I'm John, a dedicated and results-oriented web developer with a knack for creating elegant, efficient, and user-friendly digital experiences. With a strong foundation in front-end and back-end technologies, I enjoy turning complex problems into intuitive solutions.
                </p>
                <p class="mb-4">
                    My journey in web development started with a fascination for how websites could connect people and ideas. Since then, I've honed my skills in various technologies, always striving to stay updated with the latest industry trends. I'm passionate about clean code, responsive design, and creating applications that make a difference.
                </p>
                <p>
                    When I'm not coding, you can find me exploring new hiking trails, reading about emerging tech, or experimenting with new recipes in the kitchen.
                </p>
            </div>
        </div>
    </section>

    <section id="skills" class="py-16 bg-gray-50 dark:bg-gray-900 hidden md:block">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center text-gray-800 dark:text-white mb-12">My Skills</h2>
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6 md:gap-8">
                <div class="skill-card aspect-square bg-white dark:bg-gray-800 rounded-xl shadow-lg p-1 cursor-pointer group perspective">
                    <div class="relative w-full h-full skill-card-inner">
                        <div class="absolute w-full h-full skill-card-front flex flex-col items-center justify-center bg-gradient-to-br from-orange-500 to-red-500 dark:from-orange-600 dark:to-red-600 rounded-lg p-4 text-white">
                            <i class="fab fa-html5 fa-3x mb-3"></i>
                            <h3 class="text-xl font-semibold">HTML5</h3>
                        </div>
                        <div class="absolute w-full h-full skill-card-back flex flex-col items-center justify-center bg-gray-700 dark:bg-gray-600 rounded-lg p-4 text-white">
                            <h4 class="text-lg font-bold mb-2">HTML5</h4>
                            <p class="text-xs text-center">Semantic markup, accessibility standards, modern structuring.</p>
                        </div>
                    </div>
                </div>
                <div class="skill-card aspect-square bg-white dark:bg-gray-800 rounded-xl shadow-lg p-1 cursor-pointer group perspective">
                    <div class="relative w-full h-full skill-card-inner">
                        <div class="absolute w-full h-full skill-card-front flex flex-col items-center justify-center bg-gradient-to-br from-blue-500 to-sky-500 dark:from-blue-600 dark:to-sky-600 rounded-lg p-4 text-white">
                            <i class="fab fa-css3-alt fa-3x mb-3"></i>
                            <h3 class="text-xl font-semibold">CSS3</h3>
                        </div>
                        <div class="absolute w-full h-full skill-card-back flex flex-col items-center justify-center bg-gray-700 dark:bg-gray-600 rounded-lg p-4 text-white">
                            <h4 class="text-lg font-bold mb-2">CSS3</h4>
                            <p class="text-xs text-center">Flexbox, Grid, animations, responsive design, Tailwind CSS.</p>
                        </div>
                    </div>
                </div>
                <div class="skill-card aspect-square bg-white dark:bg-gray-800 rounded-xl shadow-lg p-1 cursor-pointer group perspective">
                    <div class="relative w-full h-full skill-card-inner">
                        <div class="absolute w-full h-full skill-card-front flex flex-col items-center justify-center bg-gradient-to-br from-yellow-400 to-amber-500 dark:from-yellow-500 dark:to-amber-600 rounded-lg p-4 text-white">
                            <i class="fab fa-js-square fa-3x mb-3"></i>
                            <h3 class="text-xl font-semibold">JavaScript</h3>
                        </div>
                        <div class="absolute w-full h-full skill-card-back flex flex-col items-center justify-center bg-gray-700 dark:bg-gray-600 rounded-lg p-4 text-white">
                            <h4 class="text-lg font-bold mb-2">JavaScript</h4>
                            <p class="text-xs text-center">ES6+, DOM manipulation, async operations, modern frameworks.</p>
                        </div>
                    </div>
                </div>
                <div class="skill-card aspect-square bg-white dark:bg-gray-800 rounded-xl shadow-lg p-1 cursor-pointer group perspective">
                    <div class="relative w-full h-full skill-card-inner">
                        <div class="absolute w-full h-full skill-card-front flex flex-col items-center justify-center bg-gradient-to-br from-sky-400 to-cyan-400 dark:from-sky-500 dark:to-cyan-500 rounded-lg p-4 text-white">
                            <i class="fab fa-react fa-3x mb-3"></i>
                            <h3 class="text-xl font-semibold">React</h3>
                        </div>
                        <div class="absolute w-full h-full skill-card-back flex flex-col items-center justify-center bg-gray-700 dark:bg-gray-600 rounded-lg p-4 text-white">
                            <h4 class="text-lg font-bold mb-2">React</h4>
                            <p class="text-xs text-center">Component-based architecture, state management, hooks.</p>
                        </div>
                    </div>
                </div>
                </div>
        </div>
    </section>

    <section id="work" class="py-16 bg-white dark:bg-gray-800">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center text-gray-800 dark:text-white mb-12">My Work</h2>

            <div id="work-grid" class="hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                </div>

            <div id="work-slideshow-container" class="md:hidden relative overflow-hidden rounded-lg shadow-xl bg-gray-100 dark:bg-gray-700">
                <div id="slideshow-track" class="slideshow-track">
                    </div>
                <button id="prevSlide" aria-label="Previous slide" class="absolute top-1/2 left-2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full focus:outline-none hover:bg-opacity-75 transition-opacity duration-300">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button id="nextSlide" aria-label="Next slide" class="absolute top-1/2 right-2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full focus:outline-none hover:bg-opacity-75 transition-opacity duration-300">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <div id="slide-indicators" class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
                    </div>
            </div>
        </div>
    </section>

    <section id="contact" class="py-16 bg-gray-50 dark:bg-gray-900">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center text-gray-800 dark:text-white mb-12">Contact Me</h2>
            <div class="max-w-lg mx-auto bg-white dark:bg-gray-800 p-8 rounded-lg shadow-xl">
                <form action="#" method="POST">
                    <div class="mb-4">
                        <label for="name" class="block text-gray-700 dark:text-gray-300 font-semibold mb-2">Name</label>
                        <input type="text" id="name" name="name" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white" required>
                    </div>
                    <div class="mb-4">
                        <label for="email" class="block text-gray-700 dark:text-gray-300 font-semibold mb-2">Email</label>
                        <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white" required>
                    </div>
                    <div class="mb-4">
                        <label for="message" class="block text-gray-700 dark:text-gray-300 font-semibold mb-2">Message</label>
                        <textarea id="message" name="message" rows="4" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white" required></textarea>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-8 rounded-lg shadow-md transition duration-300 dark:bg-indigo-500 dark:hover:bg-indigo-600">Send Message</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <footer class="bg-gray-800 dark:bg-black text-gray-300 dark:text-gray-400 py-8 text-center">
        <div class="container mx-auto px-6">
            <p>&copy; 2024 John Doe. All rights reserved.</p>
            <div class="mt-4 flex justify-center space-x-4">
                <a href="#" class="hover:text-indigo-400"><i class="fab fa-github fa-lg"></i></a>
                <a href="#" class="hover:text-indigo-400"><i class="fab fa-linkedin fa-lg"></i></a>
                <a href="#" class="hover:text-indigo-400"><i class="fab fa-twitter fa-lg"></i></a>
            </div>
        </div>
    </footer>

    <div id="workItemModal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-[60]">
        <div class="modal-content bg-white dark:bg-gray-800 p-6 md:p-8 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto relative">
            <button id="closeModalButton" class="absolute top-4 right-4 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white text-2xl leading-none">&times;</button>
            <img id="modalImage" src="" alt="Project Image" class="w-full h-64 object-cover rounded-lg mb-6" onerror="this.onerror=null; this.src='https://placehold.co/600x400/cccccc/ffffff?text=Image+Not+Found';">
            <h3 id="modalTitle" class="text-3xl font-bold text-gray-800 dark:text-white mb-3"></h3>
            <p id="modalCategory" class="text-indigo-600 dark:text-indigo-400 font-semibold mb-4"></p>
            <div id="modalDescription" class="text-gray-700 dark:text-gray-300 mb-4"></div>
            <div id="modalDetails" class="text-gray-600 dark:text-gray-400 mb-6 prose dark:prose-invert max-w-none"></div>
            <div class="flex space-x-4">
                <a id="modalLiveLink" href="#" target="_blank" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-lg transition duration-300 dark:bg-indigo-500 dark:hover:bg-indigo-600 inline-block">Live Demo</a>
                <a id="modalRepoLink" href="#" target="_blank" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-6 rounded-lg transition duration-300 dark:bg-gray-700 dark:hover:bg-gray-600 inline-block">GitHub Repo</a>
            </div>
        </div>
    </div>

    <script>
        // Dark Mode Toggle
        const darkModeToggle = document.getElementById('darkModeToggle');
        const htmlElement = document.documentElement;
        const moonIcon = '<i class="fas fa-moon"></i>';
        const sunIcon = '<i class="fas fa-sun"></i>';

        // Check for saved theme preference or use system preference
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            htmlElement.classList.add('dark');
            darkModeToggle.innerHTML = sunIcon;
        } else {
            darkModeToggle.innerHTML = moonIcon;
        }

        darkModeToggle.addEventListener('click', () => {
            htmlElement.classList.toggle('dark');
            if (htmlElement.classList.contains('dark')) {
                localStorage.setItem('theme', 'dark');
                darkModeToggle.innerHTML = sunIcon;
            } else {
                localStorage.setItem('theme', 'light');
                darkModeToggle.innerHTML = moonIcon;
            }
        });

        // Work Items Data
        const workItems = [
            {
                id: 'project1',
                title: 'E-commerce Platform',
                category: 'Web Development',
                imageUrl: 'https://placehold.co/600x400/3498db/ffffff?text=E-commerce+Platform',
                description: 'A full-featured e-commerce platform with a custom CMS and payment gateway integration.',
                details: '<p>Built with React, Node.js, and PostgreSQL.</p><p>Developed a scalable backend API, a responsive user interface, and integrated third-party services for shipping and analytics. Implemented advanced search and filtering capabilities.</p>',
                liveLink: '#project1-live',
                repoLink: '#project1-repo'
            },
            {
                id: 'project2',
                title: 'Portfolio Website',
                category: 'Web Design',
                imageUrl: 'https://placehold.co/600x400/2ecc71/ffffff?text=Portfolio+Website',
                description: 'A personal portfolio website to showcase skills and projects, featuring a modern and responsive design.',
                details: '<p>Designed with Figma and built using HTML, Tailwind CSS, and JavaScript.</p><p>Focused on clean aesthetics, smooth animations, and optimal performance across devices. Includes a dark mode feature.</p>',
                liveLink: '#project2-live',
                repoLink: '#project2-repo'
            },
            {
                id: 'project3',
                title: 'Task Management App',
                category: 'Mobile App Development',
                imageUrl: 'https://placehold.co/600x400/e74c3c/ffffff?text=Task+Manager+App',
                description: 'A cross-platform mobile application for managing tasks and boosting productivity.',
                details: '<p>Developed using Flutter and Dart, with Firebase for backend services.</p><p>Features include task creation, categorization, reminders, and collaborative lists. User authentication and real-time data synchronization implemented.</p>',
                liveLink: '#project3-live',
                repoLink: '#project3-repo'
            },
            {
                id: 'project4',
                title: 'Data Visualization Dashboard',
                category: 'Data Science',
                imageUrl: 'https://placehold.co/600x400/f39c12/ffffff?text=Data+Dashboard',
                description: 'An interactive dashboard for visualizing complex datasets and extracting insights.',
                details: '<p>Built with Python (Flask/Dash) and D3.js.</p><p>Allows users to upload data, choose from various chart types, and apply filters to explore trends. Includes export functionality for reports.</p>',
                liveLink: '#project4-live',
                repoLink: '#project4-repo'
            }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const workGrid = document.getElementById('work-grid');
            const workItemModal = document.getElementById('workItemModal');
            const closeModalButton = document.getElementById('closeModalButton');

            // Populate Work Grid for Desktop
            if (workGrid) {
                workItems.forEach(item => {
                    const workCard = document.createElement('div');
                    workCard.className = 'bg-gray-100 dark:bg-gray-700 rounded-lg shadow-lg overflow-hidden cursor-pointer group transform hover:scale-105 transition-transform duration-300';
                    workCard.innerHTML = `
                        <img src="${item.imageUrl}" alt="${item.title}" class="w-full h-48 object-cover group-hover:opacity-90 transition-opacity duration-300" onerror="this.onerror=null; this.src='https://placehold.co/600x400/cccccc/ffffff?text=Image+Not+Found';">
                        <div class="p-6">
                            <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-2">${item.title}</h3>
                            <p class="text-indigo-600 dark:text-indigo-400 text-sm font-medium">${item.category}</p>
                        </div>
                    `;
                    workCard.addEventListener('click', () => openModal(item));
                    workGrid.appendChild(workCard);
                });
            }

            // Modal Functions
            function openModal(item) {
                document.getElementById('modalImage').src = item.imageUrl;
                document.getElementById('modalTitle').textContent = item.title;
                document.getElementById('modalCategory').textContent = item.category;
                document.getElementById('modalDescription').textContent = item.description;
                document.getElementById('modalDetails').innerHTML = item.details; // Use innerHTML for rich text
                document.getElementById('modalLiveLink').href = item.liveLink;
                document.getElementById('modalRepoLink').href = item.repoLink;
                workItemModal.classList.add('open');
                document.body.style.overflow = 'hidden'; // Prevent background scrolling
            }

            function closeModal() {
                workItemModal.classList.remove('open');
                document.body.style.overflow = ''; // Restore background scrolling
            }

            if (closeModalButton) {
                closeModalButton.addEventListener('click', closeModal);
            }
            if (workItemModal) {
                workItemModal.addEventListener('click', (event) => {
                    if (event.target === workItemModal) { // Click outside the modal content
                        closeModal();
                    }
                });
            }
            document.addEventListener('keydown', (event) => {
                if (event.key === 'Escape' && workItemModal && workItemModal.classList.contains('open')) {
                    closeModal();
                }
            });

            // Mobile Slideshow Logic
            const slideshowContainer = document.getElementById('work-slideshow-container');
            if (slideshowContainer && getComputedStyle(slideshowContainer).display !== 'none') { // Check if slideshow is visible (i.e., on mobile)
                initializeSlideshow();
            }
        });

        function initializeSlideshow() {
            const slideshowTrack = document.getElementById('slideshow-track');
            const prevButton = document.getElementById('prevSlide');
            const nextButton = document.getElementById('nextSlide');
            const indicatorsContainer = document.getElementById('slide-indicators');
            let currentSlideIndex = 0;
            let touchStartX = 0;
            let touchEndX = 0;

            if (!slideshowTrack || !prevButton || !nextButton || !indicatorsContainer) {
                console.error("Slideshow elements not found!");
                return;
            }

            // Populate Slides
            workItems.forEach((item, index) => {
                const slide = document.createElement('div');
                slide.className = 'slide p-2'; // Added padding around the slide content
                slide.innerHTML = `
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden">
                        <img src="${item.imageUrl}" alt="${item.title}" class="w-full h-64 object-cover" onerror="this.onerror=null; this.src='https://placehold.co/600x400/cccccc/ffffff?text=Image+Not+Found';">
                        <div class="p-4 text-center">
                            <h3 class="text-lg font-semibold text-gray-800 dark:text-white">${item.title}</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400">${item.category}</p>
                        </div>
                    </div>
                `;
                slideshowTrack.appendChild(slide);

                // Create Indicator
                const indicator = document.createElement('button');
                indicator.setAttribute('aria-label', `Go to slide ${index + 1}`);
                indicator.className = 'slide-indicator';
                indicator.addEventListener('click', () => showSlide(index));
                indicatorsContainer.appendChild(indicator);
            });

            const totalSlides = workItems.length;

            function updateIndicators() {
                const indicators = indicatorsContainer.children;
                for (let i = 0; i < indicators.length; i++) {
                    indicators[i].classList.toggle('active', i === currentSlideIndex);
                }
            }

            function showSlide(index) {
                if (index >= totalSlides) {
                    currentSlideIndex = 0;
                } else if (index < 0) {
                    currentSlideIndex = totalSlides - 1;
                } else {
                    currentSlideIndex = index;
                }
                slideshowTrack.style.transform = `translateX(-${currentSlideIndex * 100}%)`;
                updateIndicators();
                updateNavButtons();
            }
            
            function updateNavButtons() {
                if (totalSlides <= 1) {
                    prevButton.style.opacity = '0';
                    prevButton.style.pointerEvents = 'none';
                    nextButton.style.opacity = '0';
                    nextButton.style.pointerEvents = 'none';
                    indicatorsContainer.style.display = 'none';
                } else {
                    prevButton.style.opacity = '1';
                    prevButton.style.pointerEvents = 'auto';
                    nextButton.style.opacity = '1';
                    nextButton.style.pointerEvents = 'auto';
                    indicatorsContainer.style.display = 'flex';
                }
            }


            prevButton.addEventListener('click', () => showSlide(currentSlideIndex - 1));
            nextButton.addEventListener('click', () => showSlide(currentSlideIndex + 1));

            // Touch Swipe Functionality
            slideshowTrack.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            });

            slideshowTrack.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });

            function handleSwipe() {
                const swipeThreshold = 50; // Minimum distance for a swipe
                if (touchEndX < touchStartX - swipeThreshold) { // Swiped left
                    showSlide(currentSlideIndex + 1);
                } else if (touchEndX > touchStartX + swipeThreshold) { // Swiped right
                    showSlide(currentSlideIndex - 1);
                }
            }
            
            // Initial setup
            if (totalSlides > 0) {
                showSlide(0);
            } else { // No items, hide slideshow controls
                prevButton.style.display = 'none';
                nextButton.style.display = 'none';
                indicatorsContainer.style.display = 'none';
                slideshowContainer.innerHTML = '<p class="text-center p-4 text-gray-600 dark:text-gray-400">No projects to display.</p>';
            }
        }

    </script>
</body>
</html>
