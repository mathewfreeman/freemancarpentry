<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twin Elm Banners - Custom Horse Stall Banners</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* --- Variables --- */
        :root {
            --bg-dark: #131516;
            /* Primary brand colors */
            --twin-elm-cobalt: #0047AB; /* More prominent Cobalt Blue */
            --twin-elm-black: #222526;  

            /* Accent colors - Teal can be a secondary accent if needed */
            --accent-primary-original: #04d9c4; /* Kept original teal for specific highlights if desired */
            
            --neutral-gray: #5f6b7a;
            --text-light: #F4F4F4;
            --text-dark: var(--twin-elm-black); 
            --background-light: #FFFFFF; 
            --background-section-alt: #F8F9FA; 

            --font-logo: 'Lato', sans-serif;
            --font-body: 'Lato', sans-serif;

            --transition-speed-fast: 0.2s;
            --transition-speed-medium: 0.35s; 
            --transition-speed-slow: 0.5s;  

            --shadow-light: 0 6px 24px 0 rgba(0, 71, 171, 0.06); 
            --shadow-medium: 0 8px 28px rgba(0, 71, 171, 0.08); 
            --border-radius-main: 10px; 
            --border-radius-large: 14px; 
        }

        /* --- Reset & Base Styles --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html {
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        body {
            font-family: var(--font-body);
            line-height: 1.7; 
            background-color: var(--background-light);
            color: var(--text-dark);
            overflow-x: hidden;
            font-weight: 400; 
        }
        body.modal-open { 
            overflow: hidden;
        }
        h1, h2, h3, h4 {
            font-weight: 700; 
            color: var(--text-dark);
            letter-spacing: -0.01em; 
        }
        h2 {
            font-size: clamp(2rem, 4.5vw, 3.2rem); 
            margin-bottom: 2.5rem;
            text-align: center;
            color: var(--twin-elm-black); 
            font-weight: 700;
        }
        h3 {
            font-size: clamp(1.4rem, 3.5vw, 1.7rem); 
            margin-bottom: 1rem;
            color: var(--twin-elm-cobalt); 
            font-weight: 700;
        }
        p {
            margin-bottom: 1.5rem;
            font-size: clamp(1rem, 2.5vw, 1.1rem); 
            color: var(--neutral-gray);
            font-weight: 400; 
            max-width: 680px; 
        }
        .container {
            width: 90%;
            max-width: 1080px; 
            margin: 0 auto;
            padding: 4.5rem 0; 
        }
        section {
            opacity: 0;
            transform: translateY(30px); 
            transition: opacity 0.7s cubic-bezier(0.165, 0.84, 0.44, 1), transform 0.7s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .highlight { /* Default highlight for other potential uses */
            color: var(--accent-primary-original); 
            font-weight: 700; 
        }
        .hero .subtitle .highlight { /* Specific highlight for hero price */
            color: var(--twin-elm-cobalt);
            font-weight: 700;
        }


        /* --- Header Style Change --- */
        .main-header {
            background: var(--background-section-alt); 
            border-bottom: 1px solid #E0E2E5; 
            padding: 0.5rem 0; 
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            transition: background var(--transition-speed-medium) ease, box-shadow var(--transition-speed-medium) ease, padding var(--transition-speed-medium) ease;
        }
        .main-header.scrolled {
             background: var(--background-section-alt); 
             box-shadow: 0 3px 10px rgba(0,0,0,0.05); 
             padding: 0.3rem 0; 
        }
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 90%;
            max-width: 1080px; 
            margin: 0 auto;
        }
        .logo a {
            font-family: var(--font-logo); 
            font-size: clamp(1.7rem, 3.5vw, 2rem); 
            font-weight: 700; 
            color: var(--twin-elm-cobalt); 
            text-decoration: none;
            letter-spacing: -0.03em;
            transition: opacity var(--transition-speed-fast); /* Changed to opacity */
        }
        .logo a:hover {
            opacity: 0.8; 
        }
        .logo-maintext { 
             color: var(--twin-elm-cobalt); 
        }
        .logo a .co-highlight { 
            color: var(--twin-elm-black); 
            font-weight: 700; 
        }
        .main-nav ul {
            list-style: none;
            display: flex;
        }
        .main-nav ul li {
            margin-left: 35px; 
        }
        .main-nav ul li a {
            color: var(--neutral-gray);
            text-decoration: none;
            font-weight: 700; 
            font-size: 0.95rem; 
            padding: 0.3rem 0.1rem;
            position: relative;
            transition: color var(--transition-speed-fast) ease;
        }
        .main-nav ul li a::after {
            content: '';
            position: absolute;
            bottom: -3px; 
            left: 0; 
            transform: none;
            width: 0;
            height: 2px;
            background-color: var(--twin-elm-cobalt); 
            transition: width var(--transition-speed-medium) cubic-bezier(0.19, 1, 0.22, 1);
        }
        .main-nav ul li a:hover,
        .main-nav ul li a.active {
            color: var(--twin-elm-cobalt); 
        }
        .main-nav ul li a:hover::after,
        .main-nav ul li a.active::after {
            width: 100%;
            left:0; transform: none; 
        }
        .menu-toggle {
            display: none;
            font-size: 1.8rem;
            background: none;
            border: none;
            color: var(--text-dark);
            cursor: pointer;
            position: relative;
            width: 30px;
            height: 22px;
        }
        .menu-toggle .line {
            width: 25px;
            height: 2px;
            background-color: var(--twin-elm-black);
            display: block;
            transition: all var(--transition-speed-medium) ease-in-out;
            position: absolute;
            left: 0;
        }
        .menu-toggle .line1 { top: 0px; }
        .menu-toggle .line2 { top: 8px; }
        .menu-toggle .line3 { top: 16px; }

        .menu-toggle.open .line1 { transform: rotate(-45deg) translate(-5px, 6px); }
        .menu-toggle.open .line2 { opacity: 0; }
        .menu-toggle.open .line3 { transform: rotate(45deg) translate(-5px, -6px); }


        /* --- Hero Section --- */
        .hero {
            background: linear-gradient(135deg, #EBF3F8 0%, var(--background-light) 100%); 
            color: var(--text-dark);
            min-height: 90vh; 
            display: flex;
            align-items: center;
            justify-content: center;
            padding-top: 100px; 
            padding-bottom: 6rem; 
            overflow: hidden;
            position: relative;
        }
        .hero-content { 
            max-width: 900px; 
            position: relative;
            z-index: 2;
            text-align: center; 
        }

        .hero-content h1 {
            font-family: var(--font-body); 
            font-size: clamp(2rem, 5.5vw, 3.8rem); 
            font-weight: 700; 
            margin-bottom: 1.5rem;
            color: var(--text-dark);
            line-height: 1.25; 
            letter-spacing: -0.03em; 
        }
        .hero-content h1 .hero-line { display: inline; }
        .hero-content h1 .hero-line-brand {
            font-family: var(--font-logo); 
            color: var(--twin-elm-cobalt); 
            font-weight: 900; 
        }
        .hero-content h1 .hero-line-descriptor {
           font-weight: 700; 
           color: var(--twin-elm-black);
        }

        .hero-content .subtitle {
            font-size: clamp(1.1rem, 2.8vw, 1.5rem); 
            margin-bottom: 3rem; 
            font-weight: 300; 
            color: var(--neutral-gray);
            max-width: 650px; 
            margin-left: auto;
            margin-right: auto;
            line-height: 1.65;
        }
        /* --- Button Style Change --- */
        .cta-button {
            background: var(--twin-elm-cobalt); 
            color: var(--text-light); 
            padding: 0.9rem 2.5rem; 
            text-decoration: none;
            font-weight: 700; 
            border-radius: 8px; 
            transition: background-color var(--transition-speed-medium) ease, transform var(--transition-speed-fast) ease, box-shadow var(--transition-speed-medium) ease;
            display: inline-block;
            font-size: 1.05rem; 
            box-shadow: 0 2px 8px rgba(0, 71, 171, 0.2); 
            border: none;
        }
        .cta-button:hover {
            background-color: #003A8C; 
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 71, 171, 0.25);
        }
        /* Removed .hero::before, .hero::after */

        /* --- About Section --- */
        #about .container {
            display: grid; 
            grid-template-columns: 1fr; 
            gap: 3rem; 
            align-items: center;
        }
        #about h2 { text-align: left; }
        #about p { max-width: none; }
        
        /* --- Modern Stall Sign CSS (Re-inserted and confirmed) --- */
        .stall-sign-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            padding: 1rem 0; 
        }
        .stall-sign-container {
            width: 280px; 
            height: 420px; 
            background-color: #ffffff; 
            border: 1px solid #e0e0e0; 
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); 
            border-radius: 12px; /* Specific radius for this element to match "perfect" version */
            padding: 25px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            font-family: var(--font-body); /* Lato */
            text-align: center;
            margin: 0 auto;
        }
        .stall-sign-container .horse-name {
            font-size: 1.7em; 
            color: var(--twin-elm-black); 
            font-weight: 700; /* Bold Lato */
            margin-bottom: 15px;
            width: 100%;
            line-height: 1.3;
        }
        .stall-sign-container .photo-area {
            width: 100%; 
            height: 200px; 
            border: 2px dashed var(--twin-elm-cobalt); 
            background-color: #f8f9fa; 
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--neutral-gray);
            font-style: italic;
            font-size: 0.9em;
            font-weight: 300; /* Light Lato for placeholder */
            margin-bottom: 20px;
            border-radius: calc(12px - 6px); /* Inner radius relative to container's 12px */
            overflow: hidden;
        }
        .stall-sign-container .photo-area img { 
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .stall-sign-container .barn-name {
            font-size: 1.3em; 
            color: var(--twin-elm-cobalt); 
            font-weight: 700; /* Bold Lato */
            width: 100%;
            text-transform: uppercase; 
            letter-spacing: 0.05em; 
            padding-top: 10px; 
            border-top: 1px solid #e0e0e0; 
        }


        @media (min-width: 768px) {
            #about .container { 
                grid-template-columns: 2fr 1.2fr; 
                gap: 3.5rem; 
            }
        }

        /* --- Banner Features Section --- */
        #banner-features { 
            background-color: var(--background-section-alt); 
        }
        .feature-grid { 
            display: grid; 
            gap: 2.5rem; 
        } 
        @media (min-width: 1024px) { .feature-grid { grid-template-columns: repeat(4, 1fr); } }
        @media (min-width: 600px) and (max-width: 1023px) { .feature-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 599px) { .feature-grid { grid-template-columns: 1fr; } }
        
        /* --- Feature Item Interaction Change --- */
        .feature-item { 
            background: var(--background-light); 
            border: 1px solid #E0E2E5; 
            padding: 2.2rem 1.8rem; 
            border-radius: var(--border-radius-main); 
            box-shadow: var(--shadow-light);
            text-align: left; 
            position: relative; 
            overflow: hidden; 
            transition: transform var(--transition-speed-medium) ease,
                        box-shadow var(--transition-speed-medium) ease;
        }
        .feature-item:hover {
            transform: translateY(-6px); 
            box-shadow: var(--shadow-medium); 
        }
        /* Removed .feature-item::before (shimmer effect) */
        .feature-item-content { position: relative; z-index: 2; }
        .feature-item-icon {
            font-size: 2.5rem; 
            color: var(--twin-elm-cobalt); 
            margin-bottom: 1.25rem; 
            display: inline-block;
            transition: color var(--transition-speed-medium) ease, transform var(--transition-speed-medium) ease;
        }
        .feature-item:hover .feature-item-icon {
            transform: scale(1.05); 
        }
        .feature-item h3 { color: var(--twin-elm-black); font-weight: 700; }


        /* --- Contact Section --- */
        #contact { background-color: var(--background-light); } 
        #contact p { text-align: center; margin-bottom: 3rem; max-width: 650px; margin-left: auto; margin-right: auto; }
        .contact-form { max-width: 650px; margin: 0 auto; display: grid; gap: 1.25rem; }
        .contact-form input, .contact-form textarea {
            width: 100%; padding: 1rem 1.25rem; 
            border: 1px solid #CFD8DC; 
            border-radius: 6px; 
            background-color: #FBFDFF; 
            color: var(--text-dark);
            font-family: var(--font-body); 
            font-size: 0.95rem; 
            font-weight: 400; 
            transition: border-color var(--transition-speed-fast), box-shadow var(--transition-speed-fast);
        }
        .contact-form input::placeholder, .contact-form textarea::placeholder { color: var(--neutral-gray); opacity: 0.9; }
        .contact-form input:focus, .contact-form textarea:focus {
            outline: none; border-color: var(--twin-elm-cobalt);
            box-shadow: 0 0 0 3px rgba(0, 71, 171, 0.15); 
        }
        .contact-form textarea { resize: vertical; min-height: 140px; }
        .contact-form button { justify-self: center; margin-top: 1rem; }

        /* --- Footer --- */
        .main-footer {
            background-color: var(--twin-elm-black); 
            color: #A0AEC0; 
            text-align: center;
            padding: 2.5rem 1rem; 
        }
        .main-footer p { 
            color: #A0AEC0; 
            font-size: 0.85rem; 
            margin-bottom: 0.5rem; 
            max-width: none; 
            font-weight: 300; 
        }
        .main-footer .footer-copyright .brand-name-footer { 
             font-family: var(--font-logo); 
             font-weight: 700; 
             color: #CBD5E0; 
        }
        .main-footer a { 
            color: var(--accent-primary-original); 
            text-decoration: none; 
            transition: color var(--transition-speed-fast); 
            font-weight: 400; 
        }
        .main-footer a:hover { 
            color: var(--text-light); 
            text-decoration: underline; 
        }

        /* --- Responsive Adjustments --- */
        @media (max-width: 768px) {
            .nav-container { flex-wrap: wrap; }
            .menu-toggle { display: flex; align-items: center; justify-content: center; }
            .main-nav {
                width: 100%; max-height: 0; overflow: hidden; 
                background: var(--background-section-alt); 
                position: absolute; top: 100%; left: 0; 
                box-shadow: 0 10px 20px rgba(0,0,0,0.07);
                border-top: 1px solid #E0E2E5;
                transition: max-height 0.4s cubic-bezier(0.19, 1, 0.22, 1); 
            }
            .main-nav.active { max-height: 300px; }  
            .main-nav ul { flex-direction: column; align-items: center; padding: 0.5rem 0; } 
            .main-nav ul li { margin: 0.8rem 0; } 

            .hero-content {
                padding: 0 1rem; 
            }
            .hero-content h1 {
                font-size: clamp(1.7rem, 6.5vw, 2.3rem); 
                line-height: 1.3;
            }
            .hero-content h1 .hero-line {
                display: block; 
                text-align: center; 
            }
            .hero-content h1 .hero-line-brand {
                color: var(--twin-elm-cobalt); 
                font-family: var(--font-logo); 
                font-weight: 900; 
                margin-bottom: 0.2rem; 
            }
            .hero-content h1 .hero-line-descriptor {
                color: var(--text-dark); 
                font-weight: 700; 
                 font-size: 0.9em; 
            }

             @media (max-width: 400px) {
                .hero-content h1 {
                    font-size: 1.5rem; 
                    line-height: 1.3;
                }
                .hero-content h1 .hero-line-descriptor {
                    font-size: 0.8em; 
                }
                .hero-content .subtitle { font-size: 0.95rem; } 
            }
            .hero-content .subtitle { font-size: clamp(1rem, 3.5vw, 1.2rem); } 
            /* .hero::before, .hero::after already removed */

            #about .container { grid-template-columns: 1fr; } 
            #about h2 { text-align: center; }
            .stall-sign-container { margin-top: 1.5rem; margin-bottom: 1.5rem;} 
            
        }
        .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0;}

    </style>
</head>
<body>

    <header class="main-header" id="mainHeader">
        <div class="nav-container">
            <div class="logo">
                <a href="#hero"><span class="logo-maintext">Twin Elm</span> <span class="co-highlight">Banners</span></a>
            </div>
            <nav class="main-nav" id="mainNav">
                <ul>
                    <li><a href="#about" class="nav-link">About Us</a></li>
                    <li><a href="#banner-features" class="nav-link">Banner Features</a></li>
                    <li><a href="#contact" class="nav-link">Order Banners</a></li>
                </ul>
            </nav>
            <button class="menu-toggle" id="menuToggle" aria-label="Open Menu" aria-expanded="false">
                <span class="line line1"></span>
                <span class="line line2"></span>
                <span class="line line3"></span>
            </button>
        </div>
    </header>

    <main>
        <section id="hero" class="hero">
            <div class="hero-content">
                <h1>
                    <span class="hero-line hero-line-brand">Twin Elm Training</span>
                    <span class="hero-line hero-line-descriptor">Show-Stopping Stall Banners</span>
                </h1>
                <p class="subtitle">Elevate your presence at every show with custom-designed, professional stall banners for your Twin Elm Training horse. <span class="highlight">Only $95 per horse!</span> Skip the DIY hassle and showcase your champion in style.</p>
                <a href="#contact" class="cta-button">Order Your Banner Today</a>
            </div>
        </section>

        <section id="about" class="container">
            <div class="about-content">
                <h2>Quality Craftsmanship for Twin Elm</h2>
                <p>At Twin Elm Banners, we're passionate about supporting Twin Elm Training's show team. We specialize in creating beautiful, durable, and professional stall sign banners that reflect the hard work and dedication that goes into every horse and rider.</p>
                <p>Our goal is to provide an effortless way for you to obtain high-quality, personalized banners that make your horses stand out and ensure all essential information is presented elegantly. We handle the design and printing, so you can focus on what you do best – preparing for a successful show!</p>
            </div>
            <div class="stall-sign-wrapper">
                <div class="stall-sign-container">
                    <div class="horse-name">
                        CHAMPION'S PRIDE 
                    </div>
                    <div class="photo-area">
                        Horse Photo Here
                    </div>
                    <div class="barn-name">
                        Twin Elm Training
                    </div>
                </div>
            </div>
        </section>

        <section id="banner-features" class="container"> 
            <h2>Premium Banners, Unbeatable Value</h2>
            <div class="feature-grid"> 
                <div class="feature-item"> 
                    <div class="feature-item-content">
                        <div class="feature-item-icon"><i class="fas fa-horse-head"></i></div> 
                        <h3>Exclusive Twin Elm Focus & Value</h3>
                        <p>Specializing in banners for Twin Elm Training allows us to offer custom design and premium printing for just $95 per horse – an unbeatable value compared to DIY materials and effort.</p>
                    </div>
                </div>
                <div class="feature-item">
                     <div class="feature-item-content">
                        <div class="feature-item-icon"><i class="fas fa-palette"></i></div> 
                        <h3>Professional & Prestige Design</h3>
                        <p>Our designs are clean, professional, and tailored to reflect the prestige of Twin Elm Training, ensuring your horse's stall is both informative and impressive.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-item-content">
                       <div class="feature-item-icon"><i class="fas fa-shield-alt"></i></div> 
                       <h3>Premium Quality & Durability</h3>
                       <p>Crafted from durable, weather-resistant materials with vibrant, fade-resistant inks, our banners are built to last through the demanding show season.</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-item-content">
                        <div class="feature-item-icon"><i class="fas fa-magic"></i></div> 
                        <h3>Effortless Process, Stunning Results</h3>
                        <p>Simply provide your horse's details, and we handle the rest – from design to print. Get a polished, professional banner without the DIY hassle.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="container">
            <h2>Order Your Twin Elm Stall Banner Today!</h2>
            <p>Ready to give your Twin Elm Training show horse the standout stall banner they deserve for only $95? Fill out the form below, and we'll get started on your custom design!</p>
            <form class="contact-form" id="contactForm">
                <input type="text" name="name" placeholder="Your Name" required>
                <input type="email" name="email" placeholder="Your Email" required>
                <textarea name="message" placeholder="Tell us your horse's name(s) and any specific requests for your banner(s)..." required></textarea>
                <button type="submit" class="cta-button">Request Your Banner</button>
            </form>
        </section>
    </main>

    <footer class="main-footer">
        <p class="footer-copyright">&copy; <span id="currentYear">2025</span> <span class="brand-name-footer">Twin Elm Banners</span>. All Rights Reserved.</p>
        <p>Proudly supporting Twin Elm Training with show-quality banners.</p>
    </footer>

    <div class="sr-only" style="position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0;">
        This is a screen-reader only class.
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const mainHeader = document.getElementById('mainHeader');
        const menuToggle = document.getElementById('menuToggle');
        const mainNav = document.getElementById('mainNav');
        const navLinks = document.querySelectorAll('.main-nav a.nav-link');
        const body = document.body;

        if ('scrollRestoration' in history) {
             history.scrollRestoration = 'manual';
        }
        window.addEventListener('load', () => {
             window.scrollTo(0, 0);
        });

        window.addEventListener('scroll', () => {
            if (window.scrollY > 30) { 
                mainHeader.classList.add('scrolled');
            } else {
                mainHeader.classList.remove('scrolled');
            }
        });

        menuToggle.addEventListener('click', function() {
            const isExpanded = mainNav.classList.toggle('active');
            menuToggle.classList.toggle('open');
            menuToggle.setAttribute('aria-expanded', isExpanded);
            body.classList.toggle('modal-open', isExpanded && window.innerWidth < 769);
        });

        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                if (mainNav.classList.contains('active')) {
                    mainNav.classList.remove('active');
                    menuToggle.classList.remove('open');
                    menuToggle.setAttribute('aria-expanded', 'false');
                    body.classList.remove('modal-open');
                }
                const targetId = this.getAttribute('href');
                if (targetId && targetId.startsWith('#')) {
                    e.preventDefault(); 
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                         const headerOffset = mainHeader ? mainHeader.offsetHeight + 15 : 75; 
                         const elementPosition = targetElement.getBoundingClientRect().top;
                         const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                         window.scrollTo({
                             top: offsetPosition,
                             behavior: 'smooth'
                         });
                    }
                }
            });
        });

        const sections = document.querySelectorAll('main section');
        const observerOptions = {
            root: null, threshold: 0.2, rootMargin: "-70px 0px -10% 0px" 
        };
        let activeLinkTimeout;
        const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const link = document.querySelector(`.main-nav a[href="#${entry.target.id}"]`);
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    if (link) {
                        clearTimeout(activeLinkTimeout);
                        activeLinkTimeout = setTimeout(() => {
                            navLinks.forEach(l => l.classList.remove('active'));
                            link.classList.add('active');
                        }, 40); 
                    }
                }
            });
        }, observerOptions);
        sections.forEach(section => sectionObserver.observe(section));
        
        function initialActiveLink() { 
            let current = '';
            const headerHeight = mainHeader ? mainHeader.offsetHeight + 90 : 140; 
            sections.forEach(section => {
                if (section.getBoundingClientRect().top <= headerHeight) {
                    current = section.id;
                }
            });
             navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
            if (!current && sections.length > 0 && window.pageYOffset < (sections[0] ? sections[0].offsetTop - headerHeight : 0)) {
                 navLinks.forEach(l => l.classList.remove('active'));
            } else if (!current && sections.length === 0) { 
                navLinks.forEach(l => l.classList.remove('active'));
            }
        }
        setTimeout(initialActiveLink, 120); 
        window.addEventListener('scroll', initialActiveLink); 

        const contactForm = document.getElementById('contactForm');
        if (contactForm) {
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const tempMsg = document.createElement('p');
                tempMsg.textContent = 'Thank you for your banner request! We\'ll be in touch soon to confirm details.';
                tempMsg.style.textAlign = 'center';
                tempMsg.style.color = 'var(--twin-elm-cobalt)'; 
                tempMsg.style.marginTop = '1rem';
                tempMsg.style.fontWeight = '700';
                contactForm.parentNode.insertBefore(tempMsg, contactForm.nextSibling);
                contactForm.reset();
                setTimeout(() => tempMsg.remove(), 5000);
            });
        }
    });
    </script>

</body>
</html>